'\" t
.\" Automatically generated by Pandoc 3.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "String.length" "JS" "2023-06-02" "JavaScript" "JavaScript Reference Manual"
.hy
.SH Synopsis
.PP
The \f[B]\f[VB]length\f[B]\f[R] data property of a \f[V]String\f[R]
value contains the length of the string in UTF-16 code units.
.SH Value
.PP
A non-negative integer.
.PP
.TS
tab(@);
l l.
T{
Writable
T}@T{
no
T}
T{
Enumerable
T}@T{
no
T}
T{
Configurable
T}@T{
no
T}
.TE
.SH Description
.PP
This property returns the number of code units in the string.
JavaScript uses UTF-16 encoding, where each Unicode character may be
encoded as one or two code units, so it\[cq]s possible for the value
returned by \f[V]length\f[R] to not match the actual number of Unicode
characters in the string.
For common scripts like Latin, Cyrillic, wellknown CJK characters, etc.,
this should not be an issue, but if you are working with certain
scripts, such as emojis, mathematical
symbols (https://en.wikipedia.org/wiki/Mathematical_Alphanumeric_Symbols),
or obscure Chinese characters, you may need to account for the
difference between code units and characters.
.PP
The language specification requires strings to have a maximum length of
253 - 1 elements, which is the upper limit for precise integers.
However, a string with this length needs 16384TiB of storage, which
cannot fit in any reasonable device\[cq]s memory, so implementations
tend to lower the threshold, which allows the string\[cq]s length to be
conveniently stored in a 32-bit integer.
.IP \[bu] 2
In V8 (used by Chrome and Node), the maximum length is 229 - 24
(\[ti]1GiB).
On 32-bit systems, the maximum length is 228 - 16 (\[ti]512MiB).
.IP \[bu] 2
In Firefox, the maximum length is 230 - 2 (\[ti]2GiB).
Before Firefox 65, the maximum length was 228 - 1 (\[ti]512MiB).
.IP \[bu] 2
In Safari, the maximum length is 231 - 1 (\[ti]4GiB).
.PP
For an empty string, \f[V]length\f[R] is 0.
.PP
The static property \f[V]String.length\f[R] is unrelated to the length
of strings.
It\[cq]s the arity of the \f[V]String\f[R] function (loosely, the number
of formal parameters it has), which is 1.
.PP
Since \f[V]length\f[R] counts code units instead of characters, if you
want to get the number of characters, you can first split the string
with its iterator, which iterates by characters:
.IP
.nf
\f[C]
function getCharacterLength(str) {
  // The string iterator that is used here iterates over characters,
  // not mere code units
  return [...str].length;
}

console.log(getCharacterLength(\[dq]A\[rs]uD87E\[rs]uDC04Z\[dq])); // 3
\f[R]
.fi
.SH Examples
.SS Basic usage
.IP
.nf
\f[C]
const x = \[dq]Mozilla\[dq];
const empty = \[dq]\[dq];

console.log(\[ga]${x} is ${x.length} code units long\[ga]);
// Mozilla is 7 code units long

console.log(\[ga]The empty string has a length of ${empty.length}\[ga]);
// The empty string has a length of 0
\f[R]
.fi
.SS Strings with length not equal to the number of characters
.IP
.nf
\f[C]
const emoji = \[dq]üòÑ\[dq];
console.log(emoji.length); // 2
console.log([...emoji].length); // 1
const adlam = \[dq]û§≤û•ãû§£û§´\[dq];
console.log(adlam.length); // 8
console.log([...adlam].length); // 4
const formula = \[dq]‚àÄùë•‚àà‚Ñù,ùë•¬≤‚â•0\[dq];
console.log(formula.length); // 11
console.log([...formula].length); // 9
\f[R]
.fi
.SS Assigning to length
.PP
Because string is a primitive, attempting to assign a value to a
string\[cq]s \f[V]length\f[R] property has no observable effect, and
will throw in strict mode.
.IP
.nf
\f[C]
const myString = \[dq]bluebells\[dq];

myString.length = 4;
console.log(myString); // \[dq]bluebells\[dq]
console.log(myString.length); // 9
\f[R]
.fi
.SH See also
.IP \[bu] 2
JavaScript \f[V]String.length\f[R] and Internationalizing Web
Applications (https://downloads.teradata.com/blog/jasonstrimpel/2011/11/javascript-string-length-and-internationalizing-web-applications)
