.\" Automatically generated by Pandoc 3.1.11
.\"
.TH "MutationRecord.target" "JS" "April 7, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
MutationRecord.target \- MutationRecord: target property
.SH SYNOPSIS
The \f[CR]MutationRecord\f[R] read\-only property
\f[B]\f[CB]target\f[B]\f[R] is the target (i.e.\ the mutated/changed
node) of a mutation observed with a \f[CR]MutationObserver\f[R].
.SH VALUE
The \f[CR]Node\f[R] that the mutation affected.
.IP \[bu] 2
If the record\[cq]s \f[CR]type\f[R] is \f[CR]attributes\f[R], this is
the \f[CR]Element\f[R] whose attributes changed.
.IP \[bu] 2
If the record\[cq]s \f[CR]type\f[R] is \f[CR]characterData\f[R], this is
the \f[CR]CharacterData\f[R] node.
.IP \[bu] 2
If the record\[cq]s \f[CR]type\f[R] is \f[CR]childList\f[R], this is the
\f[CR]Node\f[R] whose children changed.
.SH EXAMPLES
.SS Logging the target of a mutation
In the following example, there are two divs: a red div
(\f[CR]#red\-div\f[R]) and a blue div (\f[CR]#blue\-div\f[R]), inside a
container div \f[CR]#container\f[R].
A \f[CR]MutationObserver\f[R] is created to observe the container.
The observer is observing changes to the childlist, and also has
\f[CR]subtree: true\f[R] so it will observe changes to the children of
the container\[cq]s children.
.PP
The observer callback logs the \f[CR]target\f[R] of the mutation record.
When we add nodes to the \f[CR]#red\-div\f[R] or the
\f[CR]#blue\-div\f[R], the \f[CR]target\f[R] will be the
\f[CR]#red\-div\f[R] or the \f[CR]#blue\-div\f[R], respectively.
.SS HTML
.IP
.EX
<pre id=\[dq]log\[dq]>Target of mutation:</pre>
<button id=\[dq]add\-nodes\-to\-red\-div\[dq]>Add a node to red div</button>
<button id=\[dq]add\-nodes\-to\-blue\-div\[dq]>Add a node to blue div</button>
<button id=\[dq]reset\[dq]>Reset</button>
<div id=\[dq]container\[dq]>
  <div id=\[dq]red\-div\[dq]></div>
  <div id=\[dq]blue\-div\[dq]></div>
</div>
.EE
.SS JavaScript
.IP
.EX
const container = document.querySelector(\[dq]#container\[dq]);
const redDiv = document.querySelector(\[dq]#red\-div\[dq]);
const blueDiv = document.querySelector(\[dq]#blue\-div\[dq]);
const addToRed = document.querySelector(\[dq]#add\-nodes\-to\-red\-div\[dq]);
const addToBlue = document.querySelector(\[dq]#add\-nodes\-to\-blue\-div\[dq]);
const reset = document.querySelector(\[dq]#reset\[dq]);
const log = document.querySelector(\[dq]#log\[dq]);

addToRed.addEventListener(\[dq]click\[dq], () => {
  const newPara = document.createElement(\[dq]p\[dq]);
  newPara.textContent = \[ga]Current time: ${Date.now()}\[ga];
  redDiv.appendChild(newPara);
});

addToBlue.addEventListener(\[dq]click\[dq], () => {
  const newPara = document.createElement(\[dq]p\[dq]);
  newPara.textContent = \[ga]Current time: ${Date.now()}\[ga];
  blueDiv.appendChild(newPara);
});

reset.addEventListener(\[dq]click\[dq], () => self.location.reload());

function logMutationTarget(records) {
  for (const record of records) {
    log.textContent = \[ga]Target of mutation: ${record.target.id}\[ga];
  }
}

const observer = new MutationObserver(logMutationTarget);
observer.observe(container, { childList: true, subtree: true });
.EE
.SS Result
