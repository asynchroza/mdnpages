.\" Automatically generated by Pandoc 3.1.11
.\"
.TH "Navigator.canShare" "JS" "April 7, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
Navigator.canShare \- Navigator: canShare() method
.SH SYNOPSIS
\f[B]Secure context\f[R]: This feature is available only in secure
contexts (HTTPS).
.PP
The \f[B]\f[CB]Navigator.canShare()\f[B]\f[R] method of the Web Share
API returns \f[CR]true\f[R] if the equivalent call to
\f[CR]navigator.share()\f[R] would succeed.
.PP
The method returns \f[CR]false\f[R] if the data cannot be
\f[I]validated\f[R].
Reasons the data might be invalid include:
.IP \[bu] 2
The \f[CR]data\f[R] parameter has been omitted or only contains
properties with unknown values.
Note that any properties that are not recognized by the user agent are
ignored.
.IP \[bu] 2
A URL is badly formatted.
.IP \[bu] 2
Files are specified but the implementation does not support file
sharing.
.IP \[bu] 2
Sharing the specified data would be considered a \[lq]hostile share\[rq]
by the user\-agent.
.PP
The Web Share API is gated by the web\-share permission policy.
The \f[B]\f[CB]canShare()\f[B]\f[R] method will return \f[CR]false\f[R]
if the permission is supported but has not been granted.
.SH SYNTAX
.IP
.EX
canShare()
canShare(data)
.EE
.SS Parameters
.TP
\f[B]data\f[R] \f[I](optional)\f[R]
An object defining the share data to test.
Typically, an object with the same properties is passed to
\f[CR]navigator.share()\f[R] if this call returns \f[CR]true\f[R].
.RS
.PP
Properties that are unknown to the user agent are ignored; share data is
only assessed on properties understood by the user agent.
All properties are optional but at least one known data property must be
specified or the method will return \f[CR]false\f[R].
.PP
Possible values are:
.IP \[bu] 2
\f[CR]url\f[R]: A string representing a URL to be shared.
.IP \[bu] 2
\f[CR]text\f[R]: A string representing text to be shared.
.IP \[bu] 2
\f[CR]title\f[R]: A string representing the title to be shared.
.IP \[bu] 2
\f[CR]files\f[R]: An array of \f[CR]File\f[R] objects representing files
to be shared.
.RE
.SS Return value
Returns \f[CR]true\f[R] if the specified \f[CR]data\f[R] can be shared
with \f[CR]Navigator.share()\f[R], otherwise \f[CR]false\f[R].
.SH EXAMPLES
.SS Sending the MDN URL
The example uses \f[CR]navigator.canShare()\f[R] to check whether
\f[CR]navigator.share()\f[R] can share the specified data.
.SS HTML
The HTML just creates a paragraph in which to display the result of the
test.
.IP
.EX
<p class=\[dq]result\[dq]></p>
.EE
.SS JavaScript
.IP
.EX
let shareData = {
  title: \[dq]MDN\[dq],
  text: \[dq]Learn web development on MDN!\[dq],
  url: \[dq]https://developer.mozilla.org\[dq],
};

const resultPara = document.querySelector(\[dq].result\[dq]);

if (!navigator.canShare) {
  resultPara.textContent = \[dq]navigator.canShare() not supported.\[dq];
} else if (navigator.canShare(shareData)) {
  resultPara.textContent =
    \[dq]navigator.canShare() supported. We can use navigator.share() to send the data.\[dq];
} else {
  resultPara.textContent = \[dq]Specified data cannot be shared.\[dq];
}
.EE
.SS Result
The box below should state whether \f[CR]navigator.canShare()\f[R] is
supported on this browser, and if so, whether or not we can use
\f[CR]navigator.share()\f[R] to share the specified data:
.SS Feature checking example
This method feature tests whether a particular data property is valid
and shareable.
If used with a single \f[CR]data\f[R] property it will return
\f[CR]true\f[R] only if that property is valid and can be shared on the
platform.
.PP
The code below demonstrates verifying that a data property is supported.
.IP
.EX
// Feature that may not be supported
let testShare = { someNewProperty: \[dq]Data to share\[dq] };

// Complex data that uses new key
const shareData = {
  title: \[dq]MDN\[dq],
  text: \[dq]Learn web development on MDN!\[dq],
  url: \[dq]https://developer.mozilla.org\[dq],
  someNewProperty: \[dq]Data to share\[dq],
};

// Test that the key is valid and supported before sharing
if (navigator.canShare(testShare)) {
  // Use navigator.share() to share \[aq]shareData\[aq]
} else {
  // Handle case that new data property can\[aq]t be shared.
}
.EE
.SH SEE ALSO
.IP \[bu] 2
\f[CR]navigator.share()\f[R]
