.\" Automatically generated by Pandoc 3.1.11
.\"
.TH "IDBVersionChangeEvent.oldVersion" "JS" "April 7, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
IDBVersionChangeEvent.oldVersion \- IDBVersionChangeEvent: oldVersion
property
.SH SYNOPSIS
The \f[B]\f[CB]oldVersion\f[B]\f[R] read\-only property of the
\f[CR]IDBVersionChangeEvent\f[R] interface returns the old version
number of the database.
.PP
When the opened database doesn\[cq]t exist yet, the value of
\f[CR]oldVersion\f[R] is 0.
.PP
This feature is available in Web Workers.
.SH VALUE
A number containing a 64\-bit integer.
.SH EXAMPLES
.IP
.EX
const dbName = \[dq]sampleDB\[dq];
const dbVersion = 2;
const request = indexedDB.open(dbName, dbVersion);

request.onupgradeneeded = (e) => {
  const db = request.result;
  if (e.oldVersion < 1) {
    db.createObjectStore(\[dq]store1\[dq]);
  }

  if (e.oldVersion < 2) {
    db.deleteObjectStore(\[dq]store1\[dq]);
    db.createObjectStore(\[dq]store2\[dq]);
  }

  // etc. for version < 3, 4\&...
};
.EE
.SH SEE ALSO
.IP \[bu] 2
Using IndexedDB
.IP \[bu] 2
Starting transactions: \f[CR]IDBDatabase\f[R]
.IP \[bu] 2
Using transactions: \f[CR]IDBTransaction\f[R]
.IP \[bu] 2
Setting a range of keys: \f[CR]IDBKeyRange\f[R]
.IP \[bu] 2
Retrieving and making changes to your data: \f[CR]IDBObjectStore\f[R]
.IP \[bu] 2
Using cursors: \f[CR]IDBCursor\f[R]
.IP \[bu] 2
Reference example: \c
.UR https://github.com/mdn/dom-examples/tree/main/to-do-notifications
To\-do Notifications
.UE \c
\ (\c
.UR https://mdn.github.io/dom-examples/to-do-notifications/
View the example live
.UE \c
).
