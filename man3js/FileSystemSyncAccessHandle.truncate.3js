.\" Automatically generated by Pandoc 3.1.11
.\"
.TH "FileSystemSyncAccessHandle.truncate" "JS" "December 10, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
FileSystemSyncAccessHandle.truncate \- FileSystemSyncAccessHandle:
truncate() method
.SH SYNOPSIS
\f[B]Secure context\f[R]: This feature is available only in secure
contexts (HTTPS).
.PP
The \f[B]\f[CB]truncate()\f[B]\f[R] method of the
\f[CR]FileSystemSyncAccessHandle\f[R] interface resizes the file
associated with the handle to a specified number of bytes.
.RS
.PP
\f[B]Note:\f[R] In earlier versions of the spec, \f[CR]close()\f[R],
\f[CR]flush()\f[R], \f[CR]getSize()\f[R], and \f[CR]truncate()\f[R] were
wrongly specified as asynchronous methods, and older versions of some
browsers implement them in this way.
However, all current browsers that support these methods implement them
as synchronous methods.
.RE
.SH SYNTAX
.IP
.EX
truncate(newSize)
.EE
.SS Parameters
.TP
\f[B]newSize\f[R]
The number of bytes to resize the file to.
.SS Return value
None (\f[CR]undefined\f[R]).
.SS Exceptions
.TP
\f[B]InvalidStateError\f[R] \f[B]DOMException\f[R]
Thrown if the associated access handle is already closed, or if the
modification of the file\[cq]s binary data otherwise fails.
.TP
\f[B]QuotaExceededError\f[R] \f[B]DOMException\f[R]
Thrown if the \f[CR]newSize\f[R] is larger than the original size of the
file, and exceeds the browser\[cq]s storage quota.
.TP
\f[B]TypeError\f[R]
Thrown if the underlying file system does not support setting the file
size to the new size.
.SH EXAMPLES
.IP
.EX
async function truncateFile() {
  // Get handle to draft file
  const root = await navigator.storage.getDirectory();
  const draftHandle = await root.getFileHandle(\[dq]draft.txt\[dq], { create: true });
  // Get sync access handle
  const accessHandle = await draftHandle.createSyncAccessHandle();

  // Truncate the file to 0 bytes
  accessHandle.truncate(0);

  // Persist changes to disk.
  accessHandle.flush();

  // Always close FileSystemSyncAccessHandle if done.
  accessHandle.close();
}
.EE
.SH SEE ALSO
.IP \[bu] 2
File System API
.IP \[bu] 2
\c
.UR
https://developer.chrome.com/docs/capabilities/web-apis/file-system-access
The File System Access API: simplifying access to local files
.UE \c
