.\" Automatically generated by Pandoc 3.1.11
.\"
.TH "File.lastModified" "JS" "December 2, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
File.lastModified \- File: lastModified property
.SH SYNOPSIS
This feature is available in Web Workers.
.PP
The \f[B]\f[CB]lastModified\f[B]\f[R] read\-only property of the
\f[CR]File\f[R] interface provides the last modified date of the file as
the number of milliseconds since the Unix epoch (January 1, 1970 at
midnight).
Files without a known last modified date return the current date.
.SH VALUE
A number that represents the number of milliseconds since the Unix
epoch.
.SH EXAMPLES
The example below will loop through the files you choose, and print
whether each file was modified within the past year.
.SS HTML
.IP
.EX
<input type=\[dq]file\[dq] id=\[dq]filepicker\[dq] name=\[dq]fileList\[dq] multiple />
<output id=\[dq]output\[dq]></output>
.EE
.SS JavaScript
.IP
.EX
const output = document.getElementById(\[dq]output\[dq]);
const filepicker = document.getElementById(\[dq]filepicker\[dq]);

filepicker.addEventListener(\[dq]change\[dq], (event) => {
  const files = event.target.files;
  const now = new Date();
  output.textContent = \[dq]\[dq];

  for (const file of files) {
    const date = new Date(file.lastModified);
    // true if the file hasn\[aq]t been modified for more than 1 year
    const stale = now.getTime() \- file.lastModified > 31_536_000_000;
    output.textContent += \[ga]${file.name} is ${
      stale ? \[dq]stale\[dq] : \[dq]fresh\[dq]
    } (${date}).\[rs]n\[ga];
  }
});
.EE
.SS Result
.SS Dynamically created files
If a File is created dynamically, the last modified time can be supplied
in the \f[CR]new File()\f[R] constructor function.
If it is missing, \f[CR]lastModified\f[R] inherits the current time from
\f[CR]Date.now()\f[R] at the moment the \f[CR]File\f[R] object gets
created.
.IP
.EX
const fileWithDate = new File([], \[dq]file.bin\[dq], {
  lastModified: new Date(2017, 1, 1),
});
console.log(fileWithDate.lastModified); // returns 1485903600000

const fileWithoutDate = new File([], \[dq]file.bin\[dq]);
console.log(fileWithoutDate.lastModified); // returns current time
.EE
.SH REDUCED TIME PRECISION
To offer protection against timing attacks and fingerprinting, the
precision of \f[CR]someFile.lastModified\f[R] might get rounded
depending on browser settings.
In Firefox, the \f[CR]privacy.reduceTimerPrecision\f[R] preference is
enabled by default and defaults to 20us in Firefox 59; in 60 it will be
2ms.
.IP
.EX
// reduced time precision (2ms) in Firefox 60
someFile.lastModified;
// 1519211809934
// 1519211810362
// 1519211811670
// \&...

// reduced time precision with \[ga]privacy.resistFingerprinting\[ga] enabled
someFile.lastModified;
// 1519129853500
// 1519129858900
// 1519129864400
// \&...
.EE
.PP
In Firefox, if you enable \f[CR]privacy.resistFingerprinting\f[R], the
precision will be 100ms or the value of
\f[CR]privacy.resistFingerprinting.reduceTimerPrecision.microseconds\f[R],
whichever is larger.
.SH SEE ALSO
.IP \[bu] 2
\f[CR]File\f[R]
